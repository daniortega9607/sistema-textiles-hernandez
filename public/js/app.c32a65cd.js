(function(e){function t(t){for(var n,r,o=t[0],c=t[1],l=t[2],d=0,u=[];d<o.length;d++)r=o[d],i[r]&&u.push(i[r][0]),i[r]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);f&&f(t);while(u.length)u.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],n=!0,r=1;r<a.length;r++){var o=a[r];0!==i[o]&&(n=!1)}n&&(s.splice(t--,1),e=c(c.s=a[0]))}return e}var n={},r={app:0},i={app:0},s=[];function o(e){return c.p+"js/"+({}[e]||e)+"."+{"chunk-081a4491":"45d1d695","chunk-10ddfad5":"6e58b425","chunk-2d0d0ba6":"e68aaa2d","chunk-2d0f0680":"072506ec","chunk-1c202d32":"01d73e07","chunk-4ce99206":"0adc1897","chunk-5c9bc836":"b597e24a"}[e]+".js"}function c(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.e=function(e){var t=[],a={"chunk-081a4491":1,"chunk-10ddfad5":1,"chunk-1c202d32":1,"chunk-4ce99206":1,"chunk-5c9bc836":1};r[e]?t.push(r[e]):0!==r[e]&&a[e]&&t.push(r[e]=new Promise(function(t,a){for(var n="css/"+({}[e]||e)+"."+{"chunk-081a4491":"649720e3","chunk-10ddfad5":"326b19c5","chunk-2d0d0ba6":"31d6cfe0","chunk-2d0f0680":"31d6cfe0","chunk-1c202d32":"7604ba36","chunk-4ce99206":"f03a6690","chunk-5c9bc836":"477fdfbe"}[e]+".css",i=c.p+n,s=document.getElementsByTagName("link"),o=0;o<s.length;o++){var l=s[o],d=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(d===n||d===i))return t()}var u=document.getElementsByTagName("style");for(o=0;o<u.length;o++){l=u[o],d=l.getAttribute("data-href");if(d===n||d===i)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var n=t&&t.target&&t.target.src||i,s=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");s.request=n,delete r[e],f.parentNode.removeChild(f),a(s)},f.href=i;var m=document.getElementsByTagName("head")[0];m.appendChild(f)}).then(function(){r[e]=0}));var n=i[e];if(0!==n)if(n)t.push(n[2]);else{var s=new Promise(function(t,a){n=i[e]=[t,a]});t.push(n[2]=s);var l,d=document.createElement("script");d.charset="utf-8",d.timeout=120,c.nc&&d.setAttribute("nonce",c.nc),d.src=o(e),l=function(t){d.onerror=d.onload=null,clearTimeout(u);var a=i[e];if(0!==a){if(a){var n=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src,s=new Error("Loading chunk "+e+" failed.\n("+n+": "+r+")");s.type=n,s.request=r,a[1](s)}i[e]=void 0}};var u=setTimeout(function(){l({type:"timeout",target:d})},12e4);d.onerror=d.onload=l,document.head.appendChild(d)}return Promise.all(t)},c.m=e,c.c=n,c.d=function(e,t,a){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)c.d(a,n,function(t){return e[t]}.bind(null,n));return a},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/",c.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],d=l.push.bind(l);l.push=t,l=l.slice();for(var u=0;u<l.length;u++)t(l[u]);var f=d;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},4678:function(e,t,a){var n={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb718","./de-ch.js":"bb718","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function r(e){var t=i(e);return a(t)}function i(e){var t=n[e];if(!(t+1)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return t}r.keys=function(){return Object.keys(n)},r.resolve=i,e.exports=r,r.id="4678"},"50a3":function(e,t,a){"use strict";var n=a("468d"),r=a.n(n),i={functional:!0,render:function(e,t){var a=t.props,n=a.color||a;return n.value?e(r.a,{attrs:{colors:[n.value],disabled:!0,inline:!0,"background-color":"transparent"}}):null}},s={functional:!0,render:function(e,t){var a=t.props;return e(r.a,{attrs:{colors:[a.value],disabled:!0,inline:!0,"background-color":"transparent"}})}},o={functional:!0,render:function(e,t){var a=t.props;return e("div",[e("v-text-field",{class:"holi",attrs:{value:a.value,type:"text",rules:a.rules,label:a.label}}),e(r.a,{attrs:{value:a.value,colors:["#000000","#434343","#666666","#999999","#b7b7b7","#cccccc","#d9d9d9","#efefef","#f3f3f3","#ffffff","#980000","#ff0000","#ff9900","#ffff00","#00ff00","#00ffff","#4a86e8","#0000ff","#9900ff","#ff00ff","#e6b8af","#f4cccc","#fce5cd","#fff2cc","#d9ead3","#d0e0e3","#c9daf8","#cfe2f3","#d9d2e9","#ead1dc","#dd7e6b","#ea9999","#f9cb9c","#ffe599","#b6d7a8","#a2c4c9","#a4c2f4","#9fc5e8","#b4a7d6","#d5a6bd","#cc4125","#e06666","#f6b26b","#ffd966","#93c47d","#76a5af","#6d9eeb","#6fa8dc","#8e7cc3","#c27ba0","#a61c00","#cc0000","#e69138","#f1c232","#6aa84f","#45818e","#3c78d8","#3d85c6","#674ea7","#a64d79","#85200c","#990000","#b45f06","#bf9000","#38761d","#134f5c","#1155cc","#0b5394","#351c75","#741b47","#5b0f00","#660000","#783f04","#7f6000","#274e13","#0c343d","#1c4587","#073763","#20124d","#4c1130]"],inline:!0,"background-color":"transparent"},on:{input:a.changeHandler}})])}},c={name:"Color",display_name:"Color",display_name_plural:"Colores",apiUrl:"colors",url:"colores",field_configs:{list:{name:{align:"left"},value:{align:"center",formatter:s,sortable:!1}},form:{name:{required:!0},value:{required:!0,formatter:o}}},fields:{name:{display_name:"Nombre"},value:{display_name:"Color"}},formatter:i};t["a"]=c},"56d7":function(e,t,a){"use strict";a.r(t);a("cadf"),a("551c"),a("f751"),a("097d");var n=a("2b0e"),r=a("bb71"),i=(a("da64"),a("2e15")),s=a.n(i);n["a"].use(r["a"],{iconfont:"md",lang:{locales:{es:s.a},current:"es"}});var o=a("8c4f");n["a"].use(o["a"]);var c=[{path:"/login",name:"login",component:function(){return a.e("chunk-1c202d32").then(a.bind(null,"a55b"))}},{path:"/",component:function(){return a.e("chunk-4ce99206").then(a.bind(null,"918c"))},children:[{path:"",component:function(){return a.e("chunk-081a4491").then(a.bind(null,"bb51"))}},{path:"home",component:function(){return a.e("chunk-081a4491").then(a.bind(null,"bb51"))}},{path:"ajustes",component:function(){return a.e("chunk-5c9bc836").then(a.bind(null,"26d3"))}},{path:"almacen",component:function(){return Promise.all([a.e("chunk-10ddfad5"),a.e("chunk-2d0d0ba6")]).then(a.bind(null,"68e3"))}},{path:":entity",component:function(){return Promise.all([a.e("chunk-10ddfad5"),a.e("chunk-2d0f0680")]).then(a.bind(null,"9bde"))}}],meta:{requiresAuth:!0}}],l=new o["a"]({mode:"history",base:"/",routes:c});l.beforeEach(function(e,t,a){if(e.matched.some(function(e){return e.meta.requiresSuperadmin})){var n=localStorage.getItem("user")?JSON.parse(localStorage.user):null;n&&n.superadmin?a():a(n?"/":{path:"/login",query:{redirect:e.fullPath}})}else if(e.matched.some(function(e){return e.meta.requiresAuth})){var r=localStorage.getItem("user")?JSON.parse(localStorage.user):null;r?a():a({path:"/login",query:{redirect:e.fullPath}})}else a()});var d=l,u=a("2f62"),f=a("bfa9"),m={token:localStorage.getItem("token")||null,authenticated:localStorage.getItem("authenticated")||!1,user:localStorage.getItem("user")&&JSON.parse(localStorage.user)||null},p={},b={login:function(e,t){var a=t.token,n=t.user;e.token=a,e.user=n,e.authenticated=!0},logout:function(e){e.authenticated=!1,e.token=null,e.user=null}},h={},y={namespaced:!0,state:m,getters:p,mutations:b,actions:h},_=a("cebc"),g=a("5176"),v=a.n(g),j={id:1,articles:[],balance:0,total:0,stock:!0,customer_id:null,article_id:null,article_selected:[],article_quantity:null},k={alerts:[],drawer:null,selectedOffice:null,sales:[v()({},j)]},x={},w={addSale:function(e){var t=e.sales[e.sales.length-1]&&e.sales[e.sales.length-1].id+1||1;e.sales.push(v()({},Object(_["a"])({},j,{id:t})))},deleteSale:function(e,t){e.sales.splice(t,1)},selectOffice:function(e,t){e.selectedOffice=t},showAlert:function(e,t){e.alerts.push(Object(_["a"])({},t,{show:!0}))}},S={},O={namespaced:!0,state:k,getters:x,mutations:w,actions:S},q=(a("20d6"),a("bd86")),C=(a("7514"),a("768b")),E=a("a4bb"),D=a.n(E),I=(a("96cf"),a("3b8d")),T=(a("7f7f"),a("59ad")),U=a.n(T),P=(a("28a5"),a("ac6a"),a("e814")),V=a.n(P),R=a("2ef0"),A=a("ed08"),N=(a("6d31"),{colors:[],customers:[],designs:[],fabrics:[],notifications:[],offices:[],products:[],purchases:[],stock_movements:[],stocks:[],suppliers:[],users:[],sales:[]}),z={getItems:function(e){return function(t){var a=t.entity,n=t.params,r=void 0===n?{office:null}:n,i=e[a];return r.office&&"stocks"===a&&(i=i.filter(function(e){return Object(R["isEqual"])(e.office_id,r.office.id)||V()(e.office_id,10)===V()(r.office.id,10)})),i}},getSearchableItems:function(e){return function(t){var a=t.entity,n=t.keys,r=void 0===n?["name"]:n;return e[a].map(function(e){var t="";return r.forEach(function(a){t+="".concat(Object(A["b"])(e,a.split("."))?"".concat(Object(A["b"])(e,a.split("."))," "):"")}),{text:t,value:e.id}})}},getStockDetails:function(e){return function(t){var a=t.office,n=t.product,r=t.quantity,i=t.selected,s=[];return e.stocks.filter(function(e){return e.office_id===a}).forEach(function(e){void 0!==n&&null!==n&&e.product_id!==n||e.details.forEach(function(t){i&&-1!==i.indexOf(t.id)||r&&(U()(t.quantity)<U()(r)-5||U()(t.quantity)>U()(r)+5)||s.push(Object(_["a"])({},t,{design:e.design.name,color:e.color.name,product:"".concat(e.product.sku," ").concat(e.fabric.name).concat(e.design.name?" "+e.design.name:"").concat(e.color.name?" "+e.color.name:""),fabric:e.fabric.name}))})}),s}}},F={setNotifications:function(){var e=Object(I["a"])(regeneratorRuntime.mark(function e(t,a){var n,r,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:n=t.state,r=t.commit,i={},a.forEach(function(e){i[e.entity_id]||(i[e.entity_id]=[]),i[e.entity_id].push(e)}),a=[],D()(i).forEach(function(e){i[e].length>2?a.push(Object(_["a"])({},i[e][0],{type:2})):a=a.concat(i[e])}),a.forEach(function(){var e=Object(I["a"])(regeneratorRuntime.mark(function e(t){var a,i,s,o,c,l,d,u,f,m,p,b,h;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(1!=t.type){e.next=10;break}return e.next=3,Object(A["a"])({url:"/api/".concat(t.entity.name,"/").concat(t.entity_value_id)});case 3:a=e.sent,i=Object(C["a"])(a,2),s=i[0],o=i[1],s||(c=n[t.entity.name].find(function(e){return e.id==o.id}),-1===c&&r("onCreate",{entity:t.entity.name,createdValue:o})),e.next=31;break;case 10:if(2!=t.type){e.next=20;break}return e.next=13,Object(A["a"])({url:"/api/".concat(t.entity.name)});case 13:l=e.sent,d=Object(C["a"])(l,2),u=d[0],f=d[1],u||r("setInitialValues",Object(q["a"])({},t.entity.name,f)),e.next=31;break;case 20:if(3!=t.type){e.next=30;break}return e.next=23,Object(A["a"])({url:"/api/".concat(t.entity.name,"/").concat(t.entity_value_id)});case 23:m=e.sent,p=Object(C["a"])(m,2),b=p[0],h=p[1],b||r("onUpdate",{entity:t.entity.name,id:t.entity_value_id,updatedValue:h}),e.next=31;break;case 30:4==t.type&&r("onDelete",{entity:t.entity.name,id:t.entity_value_id});case 31:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 6:case"end":return e.stop()}},e)}));function t(t,a){return e.apply(this,arguments)}return t}(),read:function(){var e=Object(I["a"])(regeneratorRuntime.mark(function e(t,a){var n,r,i,s,o,c;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,r=a.entity,e.next=4,Object(A["a"])({url:"/api/".concat(r)});case 4:i=e.sent,s=Object(C["a"])(i,2),o=s[0],c=s[1],o||n("read",{items:c,entity:r});case 9:case"end":return e.stop()}},e)}));function t(t,a){return e.apply(this,arguments)}return t}(),create:function(){var e=Object(I["a"])(regeneratorRuntime.mark(function e(t,a){var n,r,i,s,o,c,l,d;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=a.item,r=a.entity,i=a.noUpdate,e.next=3,Object(A["a"])({url:"/api/".concat(r),data:n,method:"post"});case 3:return s=e.sent,o=Object(C["a"])(s,2),c=o[0],l=o[1],c||i||(l.exists?(d=t.state[r].findIndex(function(e){var t=e.id;return Object(R["isEqual"])(t,l.data.id)||V()(t,10)===V()(l.data.id,10)}),t.commit("update",{item:l.data,entity:r,updatedItem:d})):t.commit("create",{item:l.data,entity:r})),e.abrupt("return",[c,l]);case 9:case"end":return e.stop()}},e)}));function t(t,a){return e.apply(this,arguments)}return t}(),update:function(){var e=Object(I["a"])(regeneratorRuntime.mark(function e(t,a){var n,r,i,s,o,c,l,d;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,r=a.item,i=a.entity,s=a.updatedItem,e.next=4,Object(A["a"])({url:"/api/".concat(i,"/").concat(r.id),data:r,method:"put"});case 4:return o=e.sent,c=Object(C["a"])(o,2),l=c[0],d=c[1],l||n("update",{item:d.data,entity:i,updatedItem:s}),e.abrupt("return",[l,d]);case 10:case"end":return e.stop()}},e)}));function t(t,a){return e.apply(this,arguments)}return t}(),delete:function(){var e=Object(I["a"])(regeneratorRuntime.mark(function e(t,a){var n,r,i,s,o,c,l,d,u;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,r=a.item,i=a.entity,s=a.deletedItem,o=a.noDelete,e.next=4,Object(A["a"])({url:"/api/".concat(i,"/").concat(r.id),method:"delete"});case 4:return c=e.sent,l=Object(C["a"])(c,2),d=l[0],u=l[1],d||o||n("delete",{item:s,entity:i}),e.abrupt("return",[d,u]);case 10:case"end":return e.stop()}},e)}));function t(t,a){return e.apply(this,arguments)}return t}()},$={setInitialValues:function(e,t){var a=v()({},t);D()(a).forEach(function(t){return e[t]=a[t]})},onCreate:function(e,t){var a=t.entity,n=t.createdValue;e[a].push(n)},onUpdate:function(e,t){var a=t.entity,r=t.id,i=t.updatedValue,s=e[a].findIndex(function(e){return e.id==r});s>-1?n["a"].set(e[a],s,i):e[a].push(i)},onDelete:function(e,t){var a=t.entity,n=t.id,r=e[a].findIndex(function(e){return e.id==n});r>-1&&e[a].splice(r,1)},read:function(e,t){var a=t.items,n=t.entity;e[n]=a},create:function(e,t){var a=t.item,n=t.entity;e[n].push(a)},update:function(e,t){var a=t.item,n=t.entity,r=t.updatedItem;v()(e[n][r],a)},delete:function(e,t){var a=t.item,n=t.entity;e[n].splice(a,1)},reset:function(e){v()(e,{colors:[],customers:[],designs:[],fabrics:[],notifications:[],offices:[],products:[],purchases:[],stock_movements:[],stocks:[],suppliers:[],users:[],sales:[]})}},H={namespaced:!0,state:N,getters:z,mutations:$,actions:F};n["a"].use(u["a"]),n["a"].config.devtools=!0;var M=new f["a"]({modules:["entities"]}),B=new u["a"].Store({modules:{auth:y,app:O,entities:H},plugins:[M.plugin]}),L=a("9483");Object(L["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(e){console.log("New content is available; please refresh.");var t=e.waiting;window.confirm("Hay una actualización disponible, desea actualizar ahora?")&&(t.postMessage({action:"skipWaiting"}),window.location.reload())},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}}),n["a"].config.productionTip=!1,n["a"].config.devtools=!0;var J={functional:!0,render:function(e){return e("router-view")}};new n["a"]({router:d,store:B,render:function(e){return e(J)}}).$mount("#app")},"66f0":function(e,t,a){"use strict";a("7f7f");var n={functional:!0,render:function(e,t){var a=t.props,n=a.fabric||a;return e("div",[n.name])}},r={name:"Fabric",display_name:"Tela",display_name_plural:"Telas",apiUrl:"fabrics",url:"telas",field_configs:{list:{name:{align:"left"},buy_price:{align:"right",type:"number"},sell_price:{align:"right",type:"number"}},form:{name:{required:!0},buy_price:{type:"number"},sell_price:{type:"number"}}},fields:{name:{display_name:"Nombre"},buy_price:{display_name:"Precio de Compra (USD)"},sell_price:{display_name:"Precio de Venta (MXN)"}},formatter:n};t["a"]=r},"6d31":function(e,t,a){"use strict";a("4917");var n=a("cebc"),r=(a("7f7f"),a("a4bb")),i=a.n(r),s=(a("ac6a"),a("50a3")),o=a("8d64"),c=a("66f0"),l=a("b456"),d={functional:!0,render:function(e,t){var a=t.props,n=a.office||a;return e("div",[n.name])}},u={name:"Office",display_name:"Sucursal",display_name_plural:"Sucursales",apiUrl:"offices",url:"sucursales",field_configs:{list:{name:{align:"left"},address:{align:"left"},phone:{align:"left"}},form:{name:{required:!0},address:{},phone:{}}},fields:{name:{display_name:"Nombre"},address:{display_name:"Direccion"},phone:{display_name:"Telefono"}},formatter:d},f=u,m=a("8ec5"),p={name:"Supplier",display_name:"Proveedor",display_name_plural:"Proveedores",apiUrl:"suppliers",url:"proveedores",field_configs:{list:{name:{align:"left"},address:{},phone:{},mobilephone:{},email:{},credit_days:{},comments:{}},form:{name:{required:!0},address:{},phone:{},mobilephone:{},email:{},credit_days:{},comments:{type:"textarea"}}},fields:{name:{display_name:"Nombre"},address:{display_name:"Direccion"},phone:{display_name:"Telefono"},mobilephone:{display_name:"Celular"},email:{display_name:"Correo"},credit_days:{display_name:"Dias de Crédito"},comments:{display_name:"Observaciones"}}},b=p,h=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-text-field",{attrs:{"append-icon":e.showPassword?"visibility":"visibility_off",type:e.showPassword?"text":"password",rules:e.rules,label:e.label,"browser-autocomplete":"new-password"},on:{"click:append":function(t){e.showPassword=!e.showPassword}},model:{value:e.item[e.field],callback:function(t){e.$set(e.item,e.field,t)},expression:"item[field]"}})},y=[],_={props:{item:{type:Object,required:!0},field:{type:String,required:!0},label:{type:String,default:""},rules:{type:Array,default:function(){return[]}}},data:function(){return{showPassword:!1}}},g=_,v=a("2877"),j=a("6544"),k=a.n(j),x=a("2677"),w=Object(v["a"])(g,h,y,!1,null,null,null),S=w.exports;k()(w,{VTextField:x["a"]});var O=a("c6e8"),q=[{text:"Administrador",value:1},{text:"Vendedor",value:2},{text:"Cliente",value:3}],C={name:"User",display_name:"Usuario",display_name_plural:"Usuarios",apiUrl:"users",url:"usuarios",field_configs:{list:{name:{align:"left"},email:{},user_type:{},customer_id:{}},form:{name:{required:!0},email:{required:!0,email:!0},password:{required:!0,formatter:S,hideOnUpdate:!0},c_password:{formatter:S,match:{field:"password",message:"Las contraseñas no coinciden"},conditionalRequired:[{field:"password",logic:"!=",value:null}],hideOnUpdate:!0},user_type:{type:"select",items:q,required:!0},customer_id:{formatter:O["a"],formatter_options:{entity:m["a"],fromStore:!0,concatedKeys:["first_name","last_name"]},hideOnUpdate:!0}}},fields:{name:{display_name:"Nombre"},email:{display_name:"Correo"},password:{display_name:"Contraseña"},c_password:{display_name:"Confirmar Contraseña"},details:{display_name:"Detalles"},user_type:{display_name:"Tipo de Usuario"},customer_id:{display_name:"Cliente"}}},E=C,D={store:!1,name:"Setting",display_name:"Ajuste",display_name_plural:"Ajustes",apiUrl:"users/settings",url:"ajustes",field_configs:{form:{name:{required:!0},email:{required:!0,email:!0},password:{formatter:S},n_password:{formatter:S,min:6},c_password:{formatter:S,match:{field:"n_password",message:"Las contraseñas no coinciden"},conditionalRequired:[{field:"n_password",logic:"!=",value:null}]}}},fields:{name:{display_name:"Nombre"},email:{display_name:"Correo"},password:{display_name:"Contraseña Actual"},n_password:{display_name:"Nueva Contraseña"},c_password:{display_name:"Confirmar Contraseña"}}},I=D,T=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("v-card-title",{attrs:{"primary-title":""}},[a("h2",[e._v(e._s(e.label))])]),a("v-card-text",[a("v-text-field",{attrs:{type:"number",label:"Cantidad (yd)","browser-autocomplete":"new-password"},on:{input:e.convertYardsToMeters},model:{value:e.stock.quantity_yd,callback:function(t){e.$set(e.stock,"quantity_yd",t)},expression:"stock.quantity_yd"}}),a("v-text-field",{attrs:{type:"number",label:"Precio por yarda (USD)"},on:{input:e.getTotalPrice},model:{value:e.stock.buy_price_yd,callback:function(t){e.$set(e.stock,"buy_price_yd",t)},expression:"stock.buy_price_yd"}}),a("FormGenerator",{attrs:{entity:e.StockDetails,"edited-index":e.editedIndex,item:e.stock}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"success"},on:{click:e.save}},[e._v("\n      Agregar\n    ")])],1),a("v-card-text",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("v-data-table",{attrs:{"rows-per-page-text":"Registros por página",headers:e.getEntityHeaders(e.StockDetails),search:e.search,items:e.item.details,"no-results-text":"No se encontraron registros","rows-per-page-items":e.rowsPerPage},scopedSlots:e._u([{key:"items",fn:function(t){return[e._l(Object.keys(e.StockDetails.field_configs.list),function(n){return a("td",{key:"item-"+t.index+"-"+n,class:{"text-xs-center":"center"===e.StockDetails.field_configs.list[n].align,"text-xs-right":"right"===e.StockDetails.field_configs.list[n].align,"text-xs-left":"left"===e.StockDetails.field_configs.list[n].align}},[e.StockDetails.field_configs.list[n].formatter?a(e.StockDetails.field_configs.list[n].formatter,e._b({tag:"component"},"component",t.item,!1)):a("div",[e._v("\n            "+e._s(t.item[n])+"\n          ")])],1)}),e.StockDetails.no_actions?e._e():a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{attrs:{small:""},on:{click:function(a){return e.deleteItem(t.item)}}},[e._v("\n            delete\n          ")])],1)]}}])})],1)],1)},U=[],P=a("e814"),V=a.n(P),R=(a("20d6"),a("768b")),A=a("5176"),N=a.n(A),z=(a("96cf"),a("3b8d")),F=a("59ad"),$=a.n(F),H=(a("c5f6"),a("2ef0")),M=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._l(e.getEntityForm(e.entity,-1!==e.editedIndex),function(t){return[a("render-field",{key:"item-form-"+e.entity.name+"-"+t,attrs:{entity:e.entity,field:t,item:e.item,"edited-index":e.editedIndex,rules:e.getFieldValidations(e.entity,t,e.item),"change-handler":function(a){return e.item[t]=a}}})]})],2)},B=[],L=a("7f8c"),J=a("ed08"),G={components:{RenderField:L["a"]},props:{entity:{type:Object,required:!0},editedIndex:{type:[String,Number],required:!0},item:{type:Object,required:!0}},methods:{getFieldValidations:J["e"],getEntityForm:J["c"]}},K=G,Y=Object(v["a"])(K,M,B,!1,null,null,null),W=Y.exports,X=a("c1df"),Q=a.n(X);Q.a.locale("es");var Z={functional:!0,render:function(e,t){var a=t.props;return e("div",[Q()(a.created_at).fromNow()])}},ee={name:"StockDetail",display_name_plural:"Rollos",apiUrl:"stock_details",field_configs:{list:{created_at:{formatter:Z},quantity:{align:"right",sortable:!1},buy_price:{align:"right",type:"number",sortable:!1}},form:{quantity:{type:"number"},buy_price:{type:"number"}}},fields:{quantity:{display_name:"Cantidad (m)"},buy_price:{display_name:"Precio de Compra (USD)"},created_at:{display_name:"Creado"}}},te=ee,ae={components:{FormGenerator:W},props:{label:{type:String,default:""},editedIndex:{type:[Number,String],required:!0},item:{type:Object,required:!0},changeHandler:{type:Function,required:!0}},data:function(){return{search:"",stock:{quantity:null,buy_price:null,quantity_yd:null,buy_price_yd:null},details:[],StockDetails:te,rowsPerPage:[5,10,25,{text:"Todos",value:-1}]}},watch:{editedIndex:function(e){this.details=-1===e?[]:this.item.details}},methods:{convertYardsToMeters:function(e){this.stock.quantity=$()(.9144*e).toFixed(2)},getTotalPrice:function(e){this.stock.buy_price=$()(e*this.stock.quantity_yd).toFixed(2)},save:function(){var e=Object(z["a"])(regeneratorRuntime.mark(function e(){var t,a,r,i,s,o=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(-1!==this.editedIndex){e.next=7;break}this.details.push(N()({},this.stock)),this.changeHandler(this.details),this.item.stock=0,this.details.forEach(function(e){o.item.stock+=$()(e.quantity)}),e.next=21;break;case 7:return e.next=9,this.$store.dispatch("entities/create",{entity:te.apiUrl,item:Object(n["a"])({},this.stock,{stock_id:this.item.id}),noUpdate:!0});case 9:if(t=e.sent,a=Object(R["a"])(t,2),r=a[0],i=a[1],r){e.next=21;break}return this.details.push(N()({},i.data)),s=this.$store.state.entities.stocks.findIndex(function(e){var t=e.id;return Object(H["isEqual"])(t,o.item.id)||V()(t,10)===V()(o.item.id,10)}),this.item.stock=0,this.details.forEach(function(e){o.item.stock+=$()(e.quantity)}),e.next=20,this.$store.dispatch("entities/update",{entity:"stocks",item:this.item,updatedItem:s});case 20:this.$store.commit("app/showAlert",i);case 21:N()(this.stock,{quantity:null,quantity_yd:null,buy_price:null,buy_price_yd:null});case 22:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),deleteItem:function(){var e=Object(z["a"])(regeneratorRuntime.mark(function e(t){var a,n,r,i,s,o,c=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(a=this.item.details.indexOf(t),!window.confirm("¿Esta seguro de eliminar este registro?")){e.next=21;break}if(this.item.details.splice(a,1),-1!==this.editedIndex){e.next=8;break}this.item.stock=0,this.item.details.forEach(function(e){c.item.stock+=e.quantity}),e.next=21;break;case 8:return e.next=10,this.$store.dispatch("entities/delete",{deletedItem:a,entity:te.apiUrl,item:t,noDelete:!0});case 10:if(n=e.sent,r=Object(R["a"])(n,2),i=r[0],s=r[1],i){e.next=21;break}return o=this.$store.state.entities.stocks.findIndex(function(e){var t=e.id;return Object(H["isEqual"])(t,c.item.id)||V()(t,10)===V()(c.item.id,10)}),this.item.stock=0,this.details.forEach(function(e){c.item.stock+=$()(e.quantity)}),e.next=20,this.$store.dispatch("entities/update",{entity:"stocks",item:this.item,updatedItem:o});case 20:this.$store.commit("app/showAlert",s);case 21:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),getEntityHeaders:J["d"]}},ne=ae,re=a("8336"),ie=a("b0af"),se=a("99d9"),oe=a("12b2"),ce=a("8fea"),le=a("132d"),de=a("9910"),ue=a("71d9"),fe=Object(v["a"])(ne,T,U,!1,null,null,null),me=fe.exports;k()(fe,{VBtn:re["a"],VCard:ie["a"],VCardActions:se["a"],VCardText:se["b"],VCardTitle:oe["a"],VDataTable:ce["a"],VIcon:le["a"],VSpacer:de["a"],VTextField:x["a"],VToolbar:ue["a"]});var pe={functional:!0,render:function(e,t){var a=t.props;return e("div",[e("h3",{class:"pb-3"},["Cantidad en Almacen: ",a.item[a.field]||0,"m"])])}},be={name:"Stock",display_name:"Almacen",display_name_plural:"Almacen",apiUrl:"stocks",url:"almacen",field_configs:{search:["office.name","product.sku","fabric.name","design.name","color.name","stock"],list:{office_id:{align:"left",formatter:f.formatter,sortable:!1},product_id:{align:"left",formatter:l["a"].formatter},fabric:{align:"left",formatter:c["a"].formatter},design:{align:"left",formatter:o["a"].formatter},color:{align:"left",formatter:s["a"].formatter,sortable:!1},stock:{align:"right",type:"number"}},form:{office_id:{required:!0,formatter:O["a"],formatter_options:{entity:f,fromStore:!0}},product_id:{required:!0,formatter:O["a"],formatter_options:{entity:l["a"],fromStore:!0,concatedKeys:["sku","fabric.name","design.name","color.name"]}},stock:{type:"number",formatter:pe},details:{formatter:me,default:[]}}},fields:{office_id:{display_name:"Sucursal"},product_id:{display_name:"Modelo"},fabric:{display_name:"Tela"},design:{display_name:"Diseño"},color:{display_name:"Color"},stock:{display_name:"Cantidad (m)"},details:{display_name:"Rollos"}}},he=be,ye=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.item.office_id?a("v-card",[a("v-card-title",{attrs:{"primary-title":""}},[a("h2",[e._v("Rollos Disponibles")]),a("v-spacer"),a("v-btn",{attrs:{color:"success"},on:{click:e.addSelected}},[e._v("Agregar")])],1),a("v-card-text",[a("AutocompleteBox",e._b({tag:"component"},"component",e.product,!1)),a("v-text-field",{attrs:{type:"number",label:"Cantidad"},model:{value:e.quantity,callback:function(t){e.quantity=t},expression:"quantity"}}),a("v-data-table",{attrs:{"rows-per-page-text":"Registros por página",headers:[{text:"Producto",value:"product"},{text:"Cantidad",value:"quantity",align:"right"},{text:"Precio de Compra (USD)",value:"buy_price",align:"right"}],items:e.getStockDetails({office:e.item.office_id,product:e.product_id,quantity:e.quantity,selected:e.rollsSelected}),"no-results-text":"No se encontraron registros","select-all":""},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",[a("v-checkbox",{attrs:{primary:"","hide-details":""},model:{value:t.selected,callback:function(a){e.$set(t,"selected",a)},expression:"props.selected"}})],1),a("td",[e._v(e._s(t.item.product))]),a("td",{staticClass:"text-xs-right"},[e._v(e._s(t.item.quantity))]),a("td",{staticClass:"text-xs-right"},[e._v(e._s(t.item.buy_price))])]}}],null,!1,1051389775),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1),a("v-card-title",{attrs:{"primary-title":""}},[a("h2",[e._v(e._s(e.label))])]),a("v-card-text",[a("v-data-table",{attrs:{headers:[{text:"Producto",sortable:!1},{text:"Cantidad",align:"right",sortable:!1},{text:"Precio de Compra (USD)",align:"right",sortable:!1},{text:"",sortable:!1}],items:e.item.details,"no-results-text":"No se encontraron registros","rows-per-page-items":[{text:"Todos",value:-1}]},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",[e._v(e._s(t.item.stock_detail.product))]),a("td",{staticClass:"text-xs-right"},[e._v(e._s(t.item.stock_detail.quantity))]),a("td",{staticClass:"text-xs-right"},[e._v(e._s(t.item.stock_detail.buy_price))]),a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{attrs:{small:""},on:{click:function(a){return e.deleteItem(t.item)}}},[e._v("delete")])],1)]}}],null,!1,3893776332)})],1)],1):e._e()},_e=[],ge=a("2f62"),ve={components:{AutocompleteBox:O["a"]},data:function(){return{selected:[],search:null,StockDetails:te,product:null,product_id:null,quantity:null,rollsSelected:[]}},props:{label:{type:String,default:""},editedIndex:{type:[Number,String],required:!0},item:{type:Object,required:!0},changeHandler:{type:Function,required:!0}},created:function(){var e=this;this.product=N()({},{label:"Modelo",options:{fromStore:!0,entity:l["a"],concatedKeys:["sku","fabric.name","design.name","color.name"]},changeHandler:function(t){e.product_id=t}})},methods:{addSelected:function(){var e=this;this.selected.forEach(function(t){e.rollsSelected.push(t.id),e.item.details.push(N()({},{stock_detail:{product:t.product,quantity:t.quantity,buy_price:t.buy_price},stock_detail_id:t.id}))}),this.calculateTotal(),this.selected=[]},calculateTotal:function(){this.item.details.forEach()},deleteItem:function(e){var t=this.rollsSelected.indexOf(e.stock_detail_id);if(-1!==t){this.rollsSelected.splice(t,1);var a=this.item.details.findIndex(function(t){return t.stock_detail_id===e.stock_detail_id});-1!==a&&this.item.details.splice(a,1)}this.calculateTotal()},getEntityHeaders:J["d"]},computed:Object(n["a"])({},Object(ge["c"])("entities",["getStockDetails"]))},je=ve,ke=a("ac7c"),xe=Object(v["a"])(je,ye,_e,!1,null,null,null),we=xe.exports;k()(xe,{VBtn:re["a"],VCard:ie["a"],VCardText:se["b"],VCardTitle:oe["a"],VCheckbox:ke["a"],VDataTable:ce["a"],VIcon:le["a"],VSpacer:de["a"],VTextField:x["a"]});var Se={name:"StockMovement",display_name:"Envio de Almacen",display_name_plural:"Envios de Almacen",apiUrl:"stock_movements",url:"envios-almacen",field_configs:{list:{office_id:{align:"left",formatter:f.formatter,sortable:!1},to_office_id:{align:"left",formatter:f.formatter,sortable:!1}},form:{office_id:{required:!0,formatter:O["a"],formatter_options:{entity:f,fromStore:!0}},to_office_id:{required:!0,formatter:O["a"],formatter_options:{entity:f,fromStore:!0}},total:{type:"number",default:"0.00"},balance:{type:"number",default:"0.00"},details:{formatter:we,default:[]}}},fields:{office_id:{display_name:"Desde Sucursal"},to_office_id:{display_name:"Hacia Sucursal"},balance:{display_name:"Saldo"},total:{display_name:"Total"},status:{display_name:"Estado"},user_id:{display_name:"Creado por"},details:{display_name:"Rollos para envio"}}},Oe=Se,qe={name:"Sale",display_name:"Venta",display_name_plural:"Ventas",apiUrl:"sales",url:"ventas",hideAddButton:!0,field_configs:{list:{office_id:{align:"left",formatter:f.formatter,sortable:!1},customer_id:{align:"left",formatter:m["a"].formatter},commission:{align:"right",type:"number"},balance:{align:"right",type:"number"},total:{align:"right",type:"number"}},form:{office_id:{required:!0,formatter:O["a"],formatter_options:{entity:f,fromStore:!0}}}},fields:{office_id:{display_name:"Sucursal"},customer_id:{display_name:"Cliente"},commission:{display_name:"Comisión"},balance:{display_name:"Saldo"},total:{display_name:"Total"},status:{display_name:"Estado"},user_id:{display_name:"Vendedor"},articles:{display_name:"Articulos"}}},Ce=qe;a.d(t,"d",function(){return Ie}),a.d(t,"f",function(){return Te}),a.d(t,"c",function(){return Ue}),a.d(t,"a",function(){return Pe}),a.d(t,"b",function(){return Ve}),a.d(t,"e",function(){return Ae});var Ee={Color:s["a"],Design:o["a"],Fabric:c["a"],Product:l["a"],Office:f,Customer:m["a"],Supplier:b,User:E,Setting:I,Stock:he,StockMovement:Oe,Sale:Ce},De={};i()(Ee).forEach(function(e){Ee[e].url&&(De[Ee[e].url]=Ee[e].name)});var Ie=function(e){var t=e.url,a=e.name;return t&&De[t]?Ee[De[t]]:a&&Ee[a]?Ee[a]:null},Te=function(e){var t=e.url,a=e.name;return t&&De[t]&&Ee[De[t]]||a&&Ee[a]},Ue=function(e){var t=[];if(e.field_configs&&e.field_configs.list){var a=e.field_configs.list;i()(e.field_configs.list).forEach(function(r){t.push(Object(n["a"])({text:e.fields[r].display_name,value:r},a[r]))})}return e.no_actions||t.push({text:"",align:"right",sortable:!1}),t},Pe=function(e){var t={};return e.fields&&i()(e.fields).forEach(function(a){t[a]=e.field_configs.form[a]&&e.field_configs.form[a].default||null}),t},Ve=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=[];if(e.field_configs&&e.field_configs.form){var n=e.field_configs.form;i()(e.field_configs.form).forEach(function(e){(t&&!n[e].hideOnUpdate||!t)&&a.push(e)})}return a},Re=function(e,t){var a=!0;return e.forEach(function(e){switch(e.logic){case"!=":null===e.value&&null!==t[e.field]&&""!==t[e.field]&&(a=!1);break;default:break}}),a},Ae=function(e,t,a){var n=[];if(e.field_configs&&e.field_configs.form&&e.field_configs.form[t]){var r=e.field_configs.form[t];r.required&&n.push(function(e){return!!e||"Debe completar este campo"}),r.min&&n.push(function(e){return e&&e.length>=r.min||!e||"Minimo ".concat(r.min," caracteres")}),r.email&&n.push(function(e){return/.+@.+/.test(e)||"Debe ingresar un e-mail válido"}),r.match&&n.push(function(e){return e===a[r.match.field]||r.match.message||"Los campos no coinciden"}),r.conditionalRequired&&Re(r.conditionalRequired,a)&&n.push(function(e){return!!e||"Debe completar este campo"})}return n}},"7f8c":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.entity.field_configs.form[e.field].formatter?a(e.entity.field_configs.form[e.field].formatter,{tag:"component",attrs:{options:e.entity.field_configs.form[e.field].formatter_options,label:e.entity.fields[e.field].display_name,value:e.item[e.field],item:e.item,field:e.field,rules:e.rules,"change-handler":e.changeHandler,"edited-index":e.editedIndex}}):"select"===e.entity.field_configs.form[e.field].type?a("v-select",{key:"item-form-"+e.field,attrs:{value:e.item[e.field],label:e.entity.fields[e.field].display_name,rules:e.rules,items:e.entity.field_configs.form[e.field].items,clearable:!0},on:{change:e.changeHandler}}):"textarea"===e.entity.field_configs.form[e.field].type?a("v-textarea",{key:"item-form-"+e.field,attrs:{value:e.item[e.field],label:e.entity.fields[e.field].display_name,rules:e.rules},on:{input:e.changeHandler}}):a("v-text-field",{key:"item-form-"+e.field,attrs:{value:e.item[e.field],type:e.entity.field_configs.form[e.field]&&e.entity.field_configs.form[e.field].type||"text",rules:e.rules,label:e.entity.fields[e.field].display_name,"browser-autocomplete":"new-password"},on:{input:e.changeHandler}})},r=[],i=(a("c5f6"),{props:{entity:{type:Object,required:!0},field:{type:String,required:!0},item:{type:Object,required:!0},rules:{type:Array,default:function(){return[]}},changeHandler:{type:Function,required:!0},editedIndex:{type:[String,Number],required:!0}}}),s=i,o=a("2877"),c=a("6544"),l=a.n(c),d=a("b56d"),u=a("2677"),f=a("a844"),m=Object(o["a"])(s,n,r,!1,null,null,null);t["a"]=m.exports;l()(m,{VSelect:d["a"],VTextField:u["a"],VTextarea:f["a"]})},"8d64":function(e,t,a){"use strict";a("7f7f");var n={functional:!0,render:function(e,t){var a=t.props,n=a.design||a;return e("div",[n.name])}},r={name:"Design",display_name:"Diseño",display_name_plural:"Diseños",apiUrl:"designs",url:"disenos",field_configs:{list:{name:{align:"left"}},form:{name:{required:!0}}},fields:{name:{display_name:"Nombre"}},formatter:n};t["a"]=r},"8ec5":function(e,t,a){"use strict";var n={functional:!0,render:function(e,t){var a=t.props,n=a.customer||a;return e("div",[n.first_name," ",n.last_name])}},r={name:"Customer",display_name:"Cliente",display_name_plural:"Clientes",apiUrl:"customers",url:"clientes",field_configs:{list:{first_name:{},last_name:{},email:{},email_2:{},email_3:{},street:{},number:{},number_2:{},suburb:{},zip_code:{},city:{},state:{},country:{},telephone:{},name:{},rfc:{},credit_days:{},comments:{}},form:{first_name:{},last_name:{},email:{},email_2:{},email_3:{},street:{},number:{},number_2:{},suburb:{},zip_code:{},city:{},state:{},country:{},telephone:{},name:{},rfc:{},credit_days:{},comments:{type:"textarea"}}},fields:{city:{display_name:"Ciudad"},comments:{display_name:"Observaciones"},country:{display_name:"Pais"},credit_days:{display_name:"Dias de Credito"},email:{display_name:"Email"},email_2:{display_name:"Email 2"},email_3:{display_name:"Email 3"},first_name:{display_name:"Nombres"},last_name:{display_name:"Apellidos"},name:{display_name:"Razon Social"},number:{display_name:"Numero Interior"},number_2:{display_name:"Numero Exterior"},rfc:{display_name:"RFC"},state:{display_name:"Estado"},street:{display_name:"Calle"},suburb:{display_name:"Colonia"},telephone:{display_name:"Teléfono"},uid:{display_name:"Cliente Factura"},use_cfdi:{display_name:"Uso CFDI"},zip_code:{display_name:"Codigo Postal"}},formatter:n};t["a"]=r},b456:function(e,t,a){"use strict";var n=a("c6e8"),r=a("66f0"),i=a("8d64"),s=a("50a3"),o={functional:!0,render:function(e,t){var a=t.props,n=a.product||a;return e("div",[n.sku])}},c={name:"Product",display_name:"Modelo",display_name_plural:"Modelos",apiUrl:"products",url:"modelos",field_configs:{search:["sku","fabric.name","design.name","color.name"],list:{sku:{align:"left"},fabric_id:{align:"left",formatter:r["a"].formatter},design_id:{align:"left",formatter:i["a"].formatter},color_id:{align:"left",formatter:s["a"].formatter,sortable:!1}},form:{sku:{required:!0},fabric_id:{required:!0,formatter:n["a"],formatter_options:{entity:r["a"],fromStore:!0}},design_id:{formatter:n["a"],formatter_options:{entity:i["a"],fromStore:!0}},color_id:{formatter:n["a"],formatter_options:{entity:s["a"],fromStore:!0}}}},fields:{sku:{display_name:"Código"},fabric_id:{display_name:"Tela"},design_id:{display_name:"Diseño"},color_id:{display_name:"Color"}},formatter:o};t["a"]=c},c6e8:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-autocomplete",{attrs:{value:e.value,loading:e.loading,items:e.items,"search-input":e.search,label:e.label,clearable:!0,rules:e.rules,"cache-items":"","hide-no-data":""},on:{"update:searchInput":function(t){e.search=t},"update:search-input":function(t){e.search=t},change:e.changeHandler}})},r=[],i=(a("386d"),a("768b")),s=(a("96cf"),a("3b8d")),o=(a("c5f6"),a("2ef0")),c=a("ed08"),l={props:{label:{type:String,default:""},rules:{type:Array,default:function(){return[]}},value:{type:[String,Object,Number],default:null},changeHandler:{type:Function,required:!0},item:{type:Object,default:function(){return{}}},options:{type:Object,default:function(){return{}}}},data:function(){return{loading:!1,items:[],search:null}},watch:{search:function(e){e&&e!==this.value&&!this.options.fromStore&&this.debounce("querySelections",e)},"item.id":function(e){e&&null!==this.value&&!this.options.fromStore&&this.getItem(this.value)}},created:function(){this.options.fromStore&&(this.items=this.$store.getters["entities/getSearchableItems"]({entity:this.options.entity.apiUrl,keys:this.options.concatedKeys}))},methods:{debounce:Object(o["debounce"])(function(e,t){this[e](t)},600),getItem:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t){var a,n,r,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.options.fromStore){e.next=8;break}return e.next=3,Object(c["a"])({url:"/api/".concat(this.options.entity.apiUrl),params:{id:t,search:!0}});case 3:a=e.sent,n=Object(i["a"])(a,2),r=n[0],s=n[1],r||(this.items=s);case 8:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),querySelections:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t){var a,n,r,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.loading=!0,!this.options.entity.apiUrl){e.next=9;break}return e.next=4,Object(c["a"])({url:"/api/".concat(this.options.entity.apiUrl),params:{search:this.search}});case 4:a=e.sent,n=Object(i["a"])(a,2),r=n[0],s=n[1],r||(this.items=s.filter(function(e){return(e.text||"").toLowerCase().indexOf((t||"").toLowerCase())>-1}));case 9:this.loading=!1;case 10:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()}},d=l,u=a("2877"),f=a("6544"),m=a.n(f),p=a("c6a6"),b=Object(u["a"])(d,n,r,!1,null,null,null);t["a"]=b.exports;m()(b,{VAutocomplete:p["a"]})},ed08:function(e,t,a){"use strict";a.d(t,"f",function(){return u}),a.d(t,"a",function(){return f}),a.d(t,"b",function(){return p}),a.d(t,"c",function(){return b}),a.d(t,"e",function(){return y}),a.d(t,"d",function(){return _});var n=a("cebc"),r=(a("4917"),a("7618")),i=a("f499"),s=a.n(i),o=(a("28a5"),a("a4bb")),c=a.n(o),l=(a("ac6a"),a("bc3a")),d=a.n(l),u=function(){localStorage.getItem("token")&&(d.a.defaults.headers.common["Content-Type"]="application/json",d.a.defaults.headers.common.Authorization="Bearer ".concat(localStorage.getItem("token")))};u();var f=function(e){var t=e.method,a=void 0===t?"get":t,n=e.url,r=e.data,i=void 0===r?{}:r,s=e.params,o=void 0===s?null:s;return d()({method:a,url:n,data:i,params:o}).then(function(e){return[null,e.data]}).catch(function(e){return[e]})},m=function e(t,a){if(t[a])return a;if(-1!==a.indexOf(".")){var n=a.split(".").length,r=a.split(".");return r.splice(n-1,1).join("."),e(t,r.join("."))}return null},p=function e(t,a,n){var i="";if(n){var o=m(t,n.join("."));if(o)return s()(t[o])}var c=a[0];if("object"===Object(r["a"])(t[c])&&null!==t[c]&&a.length>1){var l=a.slice(1);l&&(i=e(t[c],l))}else i=t[c];return i},b=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=[];if(e.field_configs&&e.field_configs.form){var n=e.field_configs.form;c()(e.field_configs.form).forEach(function(e){(t&&!n[e].hideOnUpdate||!t)&&a.push(e)})}return a},h=function(e,t){var a=!0;return e.forEach(function(e){switch(e.logic){case"!=":null===e.value&&null!==t[e.field]&&""!==t[e.field]&&(a=!1);break;default:break}}),a},y=function(e,t,a){var n=[];if(e.field_configs&&e.field_configs.form&&e.field_configs.form[t]){var r=e.field_configs.form[t];r.required&&n.push(function(e){return!!e||"Debe completar este campo"}),r.min&&n.push(function(e){return e&&e.length>=r.min||!e||"Minimo ".concat(r.min," caracteres")}),r.email&&n.push(function(e){return/.+@.+/.test(e)||"Debe ingresar un e-mail válido"}),r.match&&n.push(function(e){return e===a[r.match.field]||r.match.message||"Los campos no coinciden"}),r.conditionalRequired&&h(r.conditionalRequired,a)&&n.push(function(e){return!!e||"Debe completar este campo"})}return n},_=function(e){var t=[];if(e.field_configs&&e.field_configs.list){var a=e.field_configs.list;c()(e.field_configs.list).forEach(function(r){t.push(Object(n["a"])({text:e.fields[r].display_name,value:r},a[r]))})}return e.no_actions||t.push({text:"",align:"right",sortable:!1}),t}}});
//# sourceMappingURL=app.c32a65cd.js.map